<!doctype html>
<html lang="en" class="sub-app-body">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title><%= VITE_GLOB_APP_TITLE %></title>
		<script type="module">
			const faviconLink = document.createElement('link');
			faviconLink.rel = 'icon';
			faviconLink.href = '/favicon.svg';
			document.head.appendChild(faviconLink);
		</script>
		<style>
			html, body {
				margin: 0;
				padding: 0;
				width: 100%;
				height: 100%;
			}

			#app-root {
				width: 100%;
				height: 100%;
				overflow: auto;
			}

			/* 添加 item-theme 样式 */
			.item-theme {
				background: #ffffff !important;
			}

			.item-theme .app-loading {
				background: #ffffff !important;
			}

			.item-theme .app-loading-title {
				color: #8B5CF6 !important;
			}

			.item-theme .loading-spinner::before {
				border-top-color: #8B5CF6 !important;
				border-right-color: #A855F7 !important;
			}

			.app-loading {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				background: #ffffff;
				overflow: hidden;
			}

			/* 轻微的装饰效果 */
			.app-loading::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: 
					radial-gradient(rgba(139,92,246,0.05), rgba(139,92,246,.02) 2px, transparent 40px),
					radial-gradient(rgba(168,85,247,0.03), rgba(168,85,247,.01) 1px, transparent 30px);
				background-size: 300px 300px, 200px 200px;
				background-position: 0 0, 100px 150px;
				animation: particleMove 30s linear infinite;
				opacity: 0.6;
			}

			.app-loading .app-loading-wrap {
				display: flex;
				position: relative;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				z-index: 10;
			}

			/* FlowFlex 品牌标志加载器 */
			.loading-spinner {
				position: relative;
				width: 140px;
				height: 140px;
				margin-bottom: 50px;
			}

			/* 外圆环 - Flow 流动效果 */
			.loading-spinner::before {
				content: '';
				position: absolute;
				top: 50%;
				left: 50%;
				width: 100px;
				height: 100px;
				margin-top: -50px;
				margin-left: -50px;
				border-radius: 50%;
				border: 3px solid transparent;
				border-top: 3px solid #8B5CF6;
				border-right: 3px solid #A855F7;
				border-bottom: 3px solid rgba(139, 92, 246, 0.3);
				animation: flowRotate 2s linear infinite;
				box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
			}

			/* 内圆环 - Flex 灵活效果 */
			.loading-spinner::after {
				content: '';
				position: absolute;
				top: 50%;
				left: 50%;
				width: 70px;
				height: 70px;
				margin-top: -35px;
				margin-left: -35px;
				border-radius: 50%;
				border: 2px solid transparent;
				border-left: 2px solid #A855F7;
				border-bottom: 2px solid rgba(168, 85, 247, 0.6);
				animation: flexRotate 1.5s linear infinite reverse;
			}

			/* 中心品牌核心 */
			.loading-center {
				position: absolute;
				top: 50%;
				left: 50%;
				width: 30px;
				height: 30px;
				margin-top: -15px;
				margin-left: -15px;
				background: linear-gradient(45deg, #8B5CF6, #A855F7);
				border-radius: 50%;
				animation: brandPulse 2s ease-in-out infinite;
				box-shadow: 0 0 15px rgba(139, 92, 246, 0.3);
			}

			/* Flow 流动点效果 */
			.flow-dots {
				position: absolute;
				width: 100%;
				height: 100%;
			}

			.flow-dot {
				position: absolute;
				width: 6px;
				height: 6px;
				background: rgba(139, 92, 246, 0.7);
				border-radius: 50%;
				animation: flowDots 3s linear infinite;
			}

			.flow-dot:nth-child(1) {
				top: 10px;
				left: 50%;
				animation-delay: 0s;
			}

			.flow-dot:nth-child(2) {
				top: 50%;
				right: 10px;
				animation-delay: 0.75s;
			}

			.flow-dot:nth-child(3) {
				bottom: 10px;
				left: 50%;
				animation-delay: 1.5s;
			}

			.flow-dot:nth-child(4) {
				top: 50%;
				left: 10px;
				animation-delay: 2.25s;
			}

			.app-loading .app-loading-title {
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 32px;
				font-weight: 400;
				letter-spacing: 6px;
				color: #8B5CF6;
				text-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
				animation: textGlow 2s ease-in-out infinite alternate;
			}

			/* 进度条 */
			.loading-progress {
				width: 300px;
				height: 4px;
				background: rgba(139, 92, 246, 0.15);
				border-radius: 2px;
				margin-top: 30px;
				overflow: hidden;
				position: relative;
			}

			.loading-progress::after {
				content: '';
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, 
					transparent, 
					rgba(139, 92, 246, 0.8), 
					transparent
				);
				animation: progressSweep 2s infinite;
			}

			/* 动画定义 */
			@keyframes flowRotate {
				to {
					transform: rotate(360deg);
				}
			}

			@keyframes flexRotate {
				to {
					transform: rotate(360deg);
				}
			}

			@keyframes brandPulse {
				0%, 100% {
					transform: scale(0.9);
					opacity: 0.8;
				}
				50% {
					transform: scale(1.1);
					opacity: 1;
				}
			}

			@keyframes flowDots {
				0%, 100% {
					opacity: 0.3;
					transform: scale(0.8);
				}
				50% {
					opacity: 1;
					transform: scale(1.2);
				}
			}

			@keyframes textGlow {
				from {
					text-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
				}
				to {
					text-shadow: 0 0 30px rgba(139, 92, 246, 0.4), 
								 0 0 40px rgba(139, 92, 246, 0.1);
				}
			}

			@keyframes progressSweep {
				0% {
					left: -100%;
				}
				100% {
					left: 100%;
				}
			}

			@keyframes particleMove {
				0% {
					background-position: 0 0, 40px 60px, 130px 270px;
				}
				100% {
					background-position: 550px 0, 590px 60px, 680px 270px;
				}
			}

			/* 响应式设计 */
			@media (max-width: 768px) {
				.loading-spinner {
					width: 80px;
					height: 80px;
				}
				
				.loading-spinner::before {
					width: 60px;
					height: 60px;
					margin-top: -30px;
					margin-left: -30px;
				}
				
				.loading-spinner::after {
					width: 40px;
					height: 40px;
					margin-top: -20px;
					margin-left: -20px;
				}
				
				.app-loading .app-loading-title {
					font-size: 24px;
					letter-spacing: 4px;
				}
				
				.loading-progress {
					width: 250px;
				}
			}
		</style>
	</head>
	<body>
		<!-- item-theme -->
		<div id="app-root">
			<div class="app-loading">
				<div class="app-loading-wrap">
					<div class="loading-spinner">
						<div class="flow-dots">
							<div class="flow-dot"></div>
							<div class="flow-dot"></div>
							<div class="flow-dot"></div>
							<div class="flow-dot"></div>
						</div>
						<div class="loading-center"></div>
					</div>
					<div id="loading_text" class="app-loading-title"></div>
					<div class="loading-progress"></div>
				</div>
			</div>
		</div>
		<script type="module" src="/src/main.ts"></script>
	</body>
	<link rel="prefetch" :href="<%= VITE_GLOB_SSOURL %>">
</html>
